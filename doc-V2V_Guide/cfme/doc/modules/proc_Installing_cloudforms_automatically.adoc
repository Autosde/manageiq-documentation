[id="proc_Installing_cloudforms_automatically"]
= NEW: Installing CloudForms Automatically

*(%AP: This section needs to be reviewed.)*

You can install CloudForms automatically with the oVirt Ansible role, `oVirt.manageiq`. 

Ansible roles are located in +/usr/share/doc/ovirt-ansible-roles-_version_/examples+.

[discrete]
== Procedure

. Create a working directory, for example, `/my_ansible`.

. In your working directory, create a `passwords.yml` file containing the engine password:
+
[options="nowrap" subs="+quotes,verbatim"]
----
engine_password: _password_
----

. Encrypt `passwords.yml` with Ansible vault:
+
[options="nowrap" subs="+quotes,verbatim"]
----
# ansible-vault encrypt passwords.yml
----
+
You will be asked for a vault password.

. Copy `manageiq.yml` to your working directory:
+
[options="nowrap" subs="+quotes,verbatim"]
----
# cp /usr/share/doc/ovirt-ansible-roles-_version_/examples/manageiq.yml .
----

. Replace +_engine_fqdn_+ in `manageiq.yml`:
+
[options="nowrap" subs="+quotes,verbatim"]
----
  vars:
    engine_fqdn: _ovirt.example.com_
    engine_user: admin@internal
    engine_cafile: /etc/pki/ovirt-engine/ca.pem
----

. Run the playbook, providing the vault password when prompted:
+
[options="nowrap" subs="+quotes,verbatim"]
----
# ansible-playbook --ask-vault-pass manageiq.yml
----

[discrete]
== Additional resources

* For more details, see link:https://github.com/oVirt/ovirt-ansible-manageiq/blob/master/README.md[Deploy ManageIQ in oVirt].

