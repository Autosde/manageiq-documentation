[[Installing_CloudForms]]
= Installing CloudForms (Manual procedure, not part of v2v)

The procedure for installing CloudForms on your Red Hat Virtualization system has 3 key stages:

* Download the CloudForms appliance
* Create a virtual machine based on the appliance
* Configure CloudForms

[NOTE]
====
These procedures describe how to install and configure a basic CloudForms environment with a local VMDB database. For more options, see the link:https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.6/[CloudForms documentation].
====

[discrete]
== Downloading the CloudForms Appliance

Download the CloudForms appliance from the Red Hat Customer Portal:

. Log in to the Customer Portal at link:https://access.redhat.com[].
. Click *Downloads* in the menu bar.
. Click *A-Z* to sort the product downloads alphabetically.
. Click *Red Hat CloudForms* to access the product download page.
. From the list of installers and images, click the *Download Now* link for the CFME Red Hat Virtual Appliance (qcow).

You are ready to upload the CloudForms appliance to your Red Hat Virtualization environment and to create a virtual machine.

[discrete]
== Uploading the CloudForms Appliance

Upload the QCOW2 CloudForms appliance to the data storage domain of your Manager machine:

. Log into the Administration Portal.
. Click menu:Storage[Disks].
. Select *Start* from the *Upload* menu.
. Click *Choose File* and select the appliance to upload.
. Click *OK*.
+
A progress bar indicates the status of the upload. You can pause, cancel, or resume uploads from the *Upload* menu.

*Increasing the Upload Timeout Value*

. If the upload times out and you see the message, *Reason: timeout due to transfer inactivity*, increase the timeout value:
+
[options="nowrap" subs="+quotes,verbatim"]
----
# engine-config -s TransferImageClientInactivityTimeoutInSeconds=6000
----
. Restart the `ovirt-engine` service:
+
[options="nowrap" subs="+quotes,verbatim"]
----
# systemctl restart ovirt-engine
----

[discrete]
== Creating a CloudForms Virtual Machine

Create a CloudForms virtual machine:

. In menu:Compute[Virtual Machines], click *New VM* to open the *New Virtual Machine* dialog.
. Specify a name for the virtual machine and any other details.
. Click *Attach*.
. Select the CloudForms appliance in the list of images and click *OK*.
. Click *+* and *Create* to create a disk for the VMDB.
. Specify a *Size* in GB for the disk that allows sufficient space for your database. Red Hat recommends allocating the virtual machine disk fully at the time of creation. Three main factors affect the size of your database over time:
+
* Virtual Machine Count: the most important factor in the calculation of virtual machine database (VMDB) size over time.
* Host Count: the number of hosts associated with the provider.
* Storage Count: the number of individual storage elements as seen from the perspective of the provider or host. It is not the total number of virtual disks for all virtual machines.
+
Use the following table as a guideline to calculate minimum requirements for your database:
+
image:5780.png[]
. Set the *Allocation Policy* to `Preallocated` (thick provisioning) for best performance.
. Specify any other values as desired.
. Click *OK* to create the disk.
. To start the CloudForms appliance, select the virtual machine from the *Virtual Machines* tab and click image:greentriangle.png[] (*Run*).

Your Red Hat Virtualization environment now contains a running CloudForms virtual machine.
