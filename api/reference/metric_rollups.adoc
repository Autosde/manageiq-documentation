
[[metric-rollups]]
== Metric Rollups

Querying of Metric Rollups is made available via the following collection:

[source,data]
----
/api/metric_rollups
----

Supported query parameters:

[options=header,cols="2,4",width=80%]
|======================
| Parameter | Examples
| resource_type | VmOrTemplate, Service
| resource_ids | [id1,id2,id3, ...]
| capture_interval | hourly, daily
| start_date | 2018-01-10,  2018-01-10T11:20:00Z
| end_date | 2018-01-17,  2017-12-31T23:59:00Z
|======================

=== Getting 60 Daily Metric Rollups

[source,data]
----
GET /api/metric_rollups?resource_type=VmOrTemplate
                      &resource_ids=[101,102,103]
                      &capture_interval=daily
                      &start_date='2017-10-01'
                      &limit=60
----

=== Getting Hourly Metric Rollups for a range of Dates

[source,data]
----
GET /api/metric_rollups?resource_type=Service
                      &resource_ids=[55,56]
                      &capture_interval=hourly
                      &start_date='2017-11-15'
                      &end_date='2017-11-18'
----

Metric rollups can also be obtained for a specific resource as a subcollection:

[source,data]
----
/api/vms/:id/metric_rollups
----

[source,data]
----
/api/services/:id/metric_rollups
----

=== Getting Hourly Metric Rollups for a Service

[source,data]
----
GET /api/services/57/metric_rollups?capture_interval=hourly&start_date='2017-06-15'
----


=== Getting 30 Daily Metric Rollups for a Vm

[source,data]
----
GET /api/vms/104/metric_rollups?capture_interval=daily&start_date='2017-01-01'&limit=30
----

