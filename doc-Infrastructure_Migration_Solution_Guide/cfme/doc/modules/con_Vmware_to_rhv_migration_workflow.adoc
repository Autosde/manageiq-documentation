// Module included in the following assemblies:
// assembly_Infrastructure_migration_solution_overview.adoc
[id="Vmware_to_rhv_migration_workflow"]
= Red Hat Virtualization migration workflow

This diagram describes the migration process after you have created the infrastructure mapping and the migration plan in CloudForms.

.VMware to Red Hat Virtualization migration workflow

image::vmware_to_rhv_migration_workflow.png[]

image:circle_step_numbers/1.png[25,25] You run the migration plan in CloudForms.

image:circle_step_numbers/2.png[25,25] CloudForms uses the migration plan to locate the source virtual machines.

image:circle_step_numbers/3.png[25,25] If you are using the `VMware Virtual Disk Development Kit` (VDDK) datapath transformation option, CloudForms captures the ESXi host fingerprint for authentication during the virtual machine conversion process.

image:circle_step_numbers/4.png[25,25] Using the attributes defined for the RHV environment, CloudForms initiates communication with the conversion host. (A conversion host is a RHV host with `virt-v2v` and `virt-v2v-wrapper` installed.)

image:circle_step_numbers/5.png[25,25] `virt-v2v-wrapper` connects to the source datastore through the ESXi host. `virt-v2v` streams the source disks to the target data domain and converts the source disks.

image:circle_step_numbers/6.png[25,25] `virt-v2v-wrapper` creates a target RHV virtual machine, using the source virtual machineâ€™s metadata in order to maintain its attributes (tags, power state, MAC address, CPU count, memory, disks, and virtual machine name) after migration.

image:circle_step_numbers/7.png[25,25] `virt-v2v` attaches the converted disks to the RHV virtual machine. (The RHV virtual machine's power state is identical to the source virtual machine's premigration state.)

The migration process is complete and the migration plan's status is displayed in CloudForms.
