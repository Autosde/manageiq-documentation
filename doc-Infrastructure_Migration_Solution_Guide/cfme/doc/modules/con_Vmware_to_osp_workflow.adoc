[id="Vmware_to_osp_workflow"]
= VMware to Red Hat OpenStack platform workflow

his workflow describes the process of migrating  from VMware to Red Hat OpenStack Platform.

*This image is a placeholder. The storage label will be `Block storage`.*

image:vmware_to_osp_migration_workflow.png[]

. After creating an infrastructure mapping and a migration plan, you run the migration plan.

. CloudForms locates the virtual machines to be migrated based on the infrastructure mapping.
+
[NOTE]
====
Source virtual machines must be powered on for migration.
====

. The ESXi host fingerprint is captured for authentication during the virtual machine conversion process, if VDDK transformation is used.

. Using the OpenStack Platform attributes defined for the target environment, CloudForms initiates communication with the conversion appliances. A conversion appliance is an OpenStack Platform instance with `virt-v2v`, `virt-v2v-wrapper`, and `nbdkit` installed.

. An OpenStack Platform conversion appliance connects to the source datastore, using `virt-v2v-wrapper`, and streams the disks to be converted to the target block storage, using `virt-v2v`. Volumes are created in the block storage, attached to the conversion appliance, and the source disks are converted.

. The volumes are detached from the conversion appliance. CloudForms instructs `virt-v2v-wrapper` to create a target instance in the OpenStack Platform environment with `virt-v2v`. The target instance uses the source virtual machineâ€™s metadata to map to a flavor, a predefined security group, and defined network(s), based on the infrastructure mapping and migration plan settings.

. The disks mapped in the block storage are attached to the instance and the instance is powered on.

The migration process is complete and its status is displayed in CloudForms.
