[id="Vmware_to_osp_workflow"]
= VMware to Red Hat OpenStack Platform workflow

This workflow describes the process of migrating from VMware to Red Hat OpenStack Platform.

image:vmware_to_osp_migration_workflow.png[]

. After creating an infrastructure mapping and a migration plan, you run the migration plan.

. CloudForms uses the migration plan to locate the virtual machines to be migrated.
+
[NOTE]
====
Source virtual machines must be powered on for migration.
====

. The ESXi host fingerprint is captured for authentication during the virtual machine conversion process, if VDDK transformation is used.

. Using the OpenStack Platform attributes defined for the target environment, CloudForms initiates communication with one or more conversion hosts. (A conversion host is an OpenStack Platform instance with `virt-v2v`, `virt-v2v-wrapper`, and `nbdkit` installed.)

. The conversion host connects to the source datastore through the ESXi host, using `virt-v2v-wrapper`, and streams the disks to be converted to the target block storage, using `virt-v2v`. The conversion host creates volumes in the block storage, attaches them to itself, and converts the source disks.

. The conversion host detaches the volumes from itself and CloudForms instructs `virt-v2v-wrapper` to create a target instance in the OpenStack Platform environment with `virt-v2v`. The target instance uses the source virtual machineâ€™s metadata to map to a flavor, a predefined security group, and defined network(s), based on the infrastructure mapping and migration plan settings.

. The disks mapped in the block storage are attached to the instance and the instance is powered on.

The migration process is complete and its status is displayed in CloudForms.
