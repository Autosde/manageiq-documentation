// Module included in the following assemblies:
//
// assembly_Preparing_1_2_the_environment_for_migration.adoc
[id="Installing_cf_4_7_4_with_{context}"]
= Installing and configuring CloudForms 4.7.4

ifdef::rhv[]
[[Cloudforms_for_rhv]]
. Install Red Hat CloudForms 4.7.4 on the Manager machine. See link:https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.7/html/installing_red_hat_cloudforms_on_red_hat_virtualization[Installing Red Hat CloudForms on Red Hat Virtualization].
+
[NOTE]
====
CFME 5.10.4 does not support migration. See the xref:ref_Software_compatibility_matrix_rhv[software compatibility matrix] for details.
====

. Add VMware to CloudForms as a provider. See link:https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.7/html-single/managing_providers/#vmware_vcenter_providers[Adding a VMware vCenter Provider].

. Add Red Hat Virtualization to CloudForms as a provider. link:https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.7/html-single/managing_providers/#adding_a_red_hat_virtualization_provider[Adding a Red Hat Virtualization Provider] in _Red Hat CloudForms: Managing Providers_.
endif::rhv[]

ifdef::osp[]
[[Cloudforms_for_osp]]
. Install Red Hat CloudForms 4.7.4. See link:https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.7/html-single/installing_red_hat_cloudforms_on_red_hat_openstack_platform/[Installing Red Hat CloudForms on Red Hat OpenStack Platform].
+
[NOTE]
====
CFME 5.10.4 does not support migration. See the xref:ref_Software_compatibility_matrix_osp[software compatibility matrix] for details.
====

. Add VMware to CloudForms as a provider. See link:https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.7/html-single/managing_providers/#vmware_vcenter_providers[Adding a VMware vCenter Provider] in _Red Hat CloudForms: Managing Providers_.

. Add Red Hat OpenStack Platform to CloudForms as a provider. See link:https://access.redhat.com/documentation/en-us/red_hat_cloudforms/4.7/html-single/managing_providers/#adding_an_openstack_infrastructure_provider[Adding an OpenStack Infrastructure Provider] in _Red Hat CloudForms: Managing Providers_.
+
Do not complete the fields in the *RSA key pair* tab when you add Red Hat OpenStack Platform as a cloud provider. You will add the SSH private key in xref:Configuring_the_osp_conversion_hosts[].
endif::osp[]
+
[IMPORTANT]
====
Removing or changing a provider before, during, or after migration will cause errors in the infrastructure mappings and migration plans.
====

. Enable SmartState Analysis:

.. In the header bar, click menu:Administrator[Configuration].
.. In the left pane, in *Settings*, click menu:CFME Regions[Zones > Server].
.. In the right pane, in the *Server* tab, set *SmartState Analysis* to *On* and click *Save*.
